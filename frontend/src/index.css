/* ==== THEME VARIABLES ==== */
:root {
  --bg-gradient: radial-gradient(circle at 20% 20%, #1d1f27 0%, #0c0d11 70%);
  --accent: #6d5dfc;
  --accent-alt: #4ad4ff;
  --danger: #ff4d4f;
  --warn: #ffcc4d;
  --success: #3ddc91;
  --text-primary: #f5f7fb;
  --text-secondary: #98a2c3;
  --radius-sm: 6px;
  --radius-md: 12px;
  --radius-lg: 24px;
  --glass-bg: rgba(255,255,255,0.04);
  --glass-border: rgba(255,255,255,0.12);
  --shadow-strong: 0 4px 16px -2px rgba(0,0,0,0.6), 0 0 0 1px rgba(255,255,255,0.04) inset;
  --font-sans: 'Inter', 'Satoshi', 'system-ui', 'Avenir', 'Helvetica', 'Arial', sans-serif;
  --transition: 160ms cubic-bezier(.4,.2,.2,1);
}

/* Light theme overrides */
[data-theme='light'] {
  --bg-gradient: radial-gradient(circle at 20% 20%, #f4f7fb 0%, #d9dce2 60%);
  --text-primary: #1d2430;
  --text-secondary: #516070;
  --glass-bg: rgba(0,0,0,0.04);
  --glass-border: rgba(0,0,0,0.12);
  --shadow-strong: 0 4px 14px -2px rgba(0,0,0,0.25), 0 0 0 1px rgba(0,0,0,0.05) inset;
}

/* Minimal reset */
* { box-sizing: border-box; }
body, h1, h2, h3, p, ul { margin: 0; padding: 0; }
ul { list-style: none; }

html, body { height: 100%; }
body {
  font-family: var(--font-sans);
  background: var(--bg-gradient);
  color: var(--text-primary);
  -webkit-font-smoothing: antialiased;
  display: flex;
  min-height: 100vh;
}

#root { flex: 1; display: flex; }

a { color: var(--accent); text-decoration: none; font-weight: 500; }
a:hover { color: var(--accent-alt); }

h1 { font-size: clamp(2.2rem, 4vw, 3.4rem); font-weight: 600; letter-spacing: -1px; }
h2 { font-size: 1.25rem; font-weight: 600; letter-spacing: -.5px; margin-top: 1rem; }
p { line-height: 1.5; }

/* Buttons */
button { cursor: pointer; font-family: inherit; font-weight: 500; position: relative; }

.btn {
  --btn-bg: linear-gradient(135deg, var(--accent) 0%, var(--accent-alt) 100%);
  --btn-bg-hover: linear-gradient(135deg, var(--accent-alt) 0%, var(--accent) 100%);
  border: 0;
  color: #fff;
  padding: 0.85rem 1.4rem;
  font-size: 0.95rem;
  border-radius: var(--radius-md);
  background: var(--btn-bg);
  display: inline-flex;
  align-items: center;
  gap: .55rem;
  line-height: 1;
  box-shadow: 0 3px 14px -2px rgba(80,74,225,0.45);
  transition: background var(--transition), transform var(--transition), box-shadow var(--transition);
  -webkit-appearance: none; /* Safari normalize */
  appearance: none;
  white-space: nowrap;
}
.btn:hover { background: var(--btn-bg-hover); transform: translateY(-2px); box-shadow: 0 6px 22px -4px rgba(80,74,225,0.6); }
.btn:active { transform: translateY(0); }
.btn.secondary { --btn-bg: linear-gradient(135deg,#2b2f3b,#1d2028); --btn-bg-hover: linear-gradient(135deg,#323847,#232730); box-shadow: 0 2px 8px -2px rgba(0,0,0,0.5); }
.btn.sm { padding: .55rem .9rem; font-size: .7rem; border-radius: var(--radius-sm); }
.btn.ghost { --btn-bg: rgba(255,255,255,0.06); --btn-bg-hover: rgba(255,255,255,0.12); box-shadow:none; border:1px solid rgba(255,255,255,0.12); backdrop-filter: blur(8px); }
.btn.ghost:hover { box-shadow:0 4px 16px -2px rgba(0,0,0,0.4); }

/* Layout containers */
.app-shell { width: 100%; max-width: 1120px; margin: 0 auto; padding: 3rem clamp(1.25rem, 3vw, 2.5rem); display: flex; flex-direction: column; gap: 2rem; }
.app-shell-compact { padding-top: 2rem; gap:1.4rem; }
.hero-compact .hero-title { text-align:left; }

.hero-title {
  background: linear-gradient(120deg,var(--accent) 0%, var(--accent-alt) 40%, #fff 90%);
  -webkit-background-clip: text; background-clip: text; color: transparent;
  filter: drop-shadow(0 4px 18px rgba(85,122,255,0.25));
  text-align: center;
}

.hero-subtitle { text-align:center; max-width:720px; margin: .4rem auto 1.6rem; font-size:.95rem; color: var(--text-secondary); }

/* Removed obsolete welcome-card & floatY animation */

/* Animated distribution art */
.donation-art { max-width:100%; height:auto; overflow:visible; }
.donation-art .stream { fill:none; stroke-width:8; stroke-linecap:round; stroke-linejoin:round; opacity:.9; stroke-dasharray:420; stroke-dashoffset:420; }
.donation-art.anim-draw .stream-a { animation: drawLine 1.4s ease forwards; }
.donation-art.anim-draw .stream-b { animation: drawLine 1.4s ease .25s forwards; }
.donation-art.anim-draw .stream-c { animation: drawLine 1.4s ease .5s forwards; }
.donation-art .coin { transform-origin: 200px 120px; animation: coinPulse 4s ease-in-out infinite; }
.donation-art.anim-draw .coin { animation: coinPulse 4s ease-in-out .2s infinite, popIn .5s ease; }
.donation-art .beneficiaries .node { fill:#1E2433; stroke-width:3; stroke:rgba(255,255,255,0.3); opacity:0; }
.donation-art.anim-draw .beneficiaries .node-a { animation: fadeInNode .4s ease 1.0s forwards; stroke:#4ad4ff; }
.donation-art.anim-draw .beneficiaries .node-b { animation: fadeInNode .4s ease 1.25s forwards; stroke:#3ddc91; }
.donation-art.anim-draw .beneficiaries .node-c { animation: fadeInNode .4s ease 1.5s forwards; stroke:#ffb366; }

@keyframes drawLine { to { stroke-dashoffset: 0; } }
@keyframes coinPulse { 0%,100% { transform: scale(1); } 50% { transform: scale(1.06); } }
@keyframes popIn { from { transform: scale(.6); opacity:0; } to { transform: scale(1); opacity:1; } }
@keyframes fadeInNode { from { opacity:0; transform: scale(.6); } to { opacity:1; transform: scale(1); } }

/* Skeleton loaders */
.skeleton { position:relative; overflow:hidden; background: linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.12)); border-radius: 6px; }
.skeleton:before { content:""; position:absolute; inset:0; background: linear-gradient(120deg, transparent 0%, rgba(255,255,255,0.25) 50%, transparent 100%); animation: shimmer 1.4s infinite; }
.skeleton-line { height: 14px; width: 100%; margin: 4px 0; }
.skeleton-sm { height: 10px; }
.skeleton-lg { height: 22px; }
@keyframes shimmer { 0% { transform: translateX(-100%); } 100% { transform: translateX(100%); } }

/* Beneficiaries list card */
.beneficiaries-card { display:flex; flex-direction:column; gap:1rem; }
.beneficiaries-header { display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:.75rem; }
.beneficiaries-list { display:flex; flex-direction:column; gap:.65rem; }
.beneficiary-row { display:grid; grid-template-columns: 46px 1fr auto; gap:.6rem; align-items:start; padding:.5rem .6rem .55rem; border:1px solid rgba(255,255,255,0.12); border-radius: var(--radius-md); background: rgba(255,255,255,0.04); position:relative; overflow:hidden; }
.beneficiary-row:before { content:""; position:absolute; inset:0; background: linear-gradient(120deg, rgba(255,255,255,0.08), transparent 70%); opacity:0; transition: opacity .4s; }
.beneficiary-row:hover:before { opacity:1; }
.beneficiary-icon { font-size:1.6rem; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.4)); }
.beneficiary-meta { display:flex; flex-direction:column; gap:.3rem; }
.beneficiary-label { display:none; }
.beneficiary-header-row { display:flex; flex-wrap:wrap; align-items:center; gap:.45rem; row-gap:.35rem; }
.beneficiary-label-text { font-weight:600; letter-spacing:.35px; font-size:.8rem; }
.beneficiary-domain { font-size:.55rem; text-transform:uppercase; letter-spacing:.5px; background:rgba(255,255,255,0.08); padding:.28rem .55rem; border-radius:999px; text-decoration:none; color:var(--accent); font-weight:600; display:inline-flex; align-items:center; gap:.25rem; border:1px solid rgba(255,255,255,0.15); }
.beneficiary-domain .ext-arrow { font-size:.6em; opacity:.7; }
.addr-chip { background:rgba(255,255,255,0.07); border:1px solid rgba(255,255,255,0.18); color:var(--text-secondary); font-family:'JetBrains Mono','Roboto Mono', monospace; font-size:.55rem; letter-spacing:.5px; padding:.25rem .5rem; border-radius:6px; cursor:pointer; display:inline-flex; align-items:center; gap:.35rem; position:relative; }
.addr-chip.copied { outline:1px solid var(--accent-alt); box-shadow:0 0 0 3px rgba(74,212,255,0.15); }
.addr-chip.copied { animation: copiedPulse 600ms ease; }
@keyframes copiedPulse { 0% { transform:scale(.94); } 40% { transform:scale(1.04); } 100% { transform:scale(1); } }
.addr-chip .addr-label { opacity:.6; }
.addr-chip .addr-value { font-weight:600; }
/* AddressChip reutiliza .addr-chip + .explorer-chip (no estilos extra necesarios por ahora) */
.explorer-chip { font-size:.55rem; text-decoration:none; color:var(--accent-alt); display:inline-flex; align-items:center; gap:.25rem; padding:.28rem .5rem; background:rgba(255,255,255,0.05); border-radius:6px; border:1px solid rgba(255,255,255,0.12); }
.explorer-chip .ext-arrow { font-size:.65em; opacity:.7; }
.beneficiary-desc { font-size:.65rem; color: var(--text-secondary); line-height:1.3; }
.beneficiary-stats { font-size:.65rem; text-align:right; display:flex; flex-direction:column; gap:.3rem; }
.beneficiary-bar { height:6px; border-radius:4px; background: linear-gradient(90deg, var(--accent), var(--accent-alt)); box-shadow:0 0 0 1px rgba(255,255,255,0.15) inset; position:relative; overflow:hidden; }
.beneficiary-bar:after { content:""; position:absolute; inset:0; background: linear-gradient(90deg, rgba(255,255,255,0.15), transparent 60%, rgba(255,255,255,0.15)); animation: slideDiag 2.4s linear infinite; mix-blend-mode: overlay; }
@keyframes slideDiag { 0% { transform: translateX(-100%); } 100% { transform: translateX(100%); } }
.beneficiaries-footer { font-size:.6rem; opacity:.65; text-align:right; }
.address-mono { font-family: 'JetBrains Mono', 'Roboto Mono', monospace; font-size:.6rem; opacity:.8; }
.warn-total { color: var(--warn); font-size:.65rem; font-weight:600; }

/* Unified card header row (title left, actions/right elements to the right) */
.card-header-row { display:flex; justify-content:space-between; align-items:center; gap:1rem; }
.beneficiaries-header .card-header-row, .card-header-row.beneficiaries-main { width:100%; }

/* Model badge */
.model-badge { display:inline-flex; align-items:center; gap:.45rem; background: linear-gradient(135deg,#2b2f3b,#1d2028); border:1px solid rgba(255,255,255,0.18); color: var(--text-secondary); font-size:.72rem; padding:.48rem .85rem .46rem; border-radius: 999px; letter-spacing:.6px; text-transform:uppercase; box-shadow:0 4px 18px -6px rgba(0,0,0,.5); }
.model-badge strong { color: var(--accent-alt); font-weight:600; }

/* Landing layout when disconnected */
/* Removed obsolete .landing-grid */

.panels-grid { display: grid; gap: 1.75rem; grid-template-columns: repeat(auto-fit,minmax(300px,1fr)); }

.card {
  position: relative;
  background: linear-gradient(160deg, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.02) 100%);
  border: 1px solid var(--glass-border);
  backdrop-filter: blur(18px) saturate(140%);
  border-radius: var(--radius-lg);
  padding: 1.5rem 1.4rem 1.7rem;
  box-shadow: var(--shadow-strong);
  overflow: hidden;
  display: flex; flex-direction: column; gap: 1rem;
  animation: fadeIn 400ms ease;
}
.card:before { content:""; position:absolute; inset:0; pointer-events:none; background: radial-gradient(circle at 85% 15%, rgba(255,255,255,0.18), transparent 60%); opacity: .4; }
.card h2 { margin: 0; }

.wallet-panel { display: flex; flex-direction: column; gap: .4rem; font-size: .9rem; }
.wallet-lines { display: flex; flex-direction: column; gap: .35rem; }

.kv-row { display:flex; gap:.35rem; align-items:center; flex-wrap:wrap; }
.kv-label { opacity:.65; font-size:.75rem; text-transform: uppercase; letter-spacing: .5px; }
.mono { font-family: 'JetBrains Mono', 'Roboto Mono', Menlo, monospace; font-size: .78rem; letter-spacing: .5px; }

.divider { height:1px; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.15), transparent); margin: .4rem 0 1rem; }

.badges { display:flex; gap:.5rem; align-items:center; flex-wrap:wrap; }
.badge { font-size:.65rem; padding: .35rem .55rem; border-radius: 999px; letter-spacing:.5px; font-weight:600; display:inline-flex; align-items:center; gap:.35rem; position:relative; }
.badge-test { background: linear-gradient(135deg,#3b3f52,#272b37); color: var(--warn); border:1px solid rgba(255,204,77,0.3); }
.badge-main { background: linear-gradient(135deg,#4e1218,#2a0d10); color: var(--danger); border:1px solid rgba(255,77,79,0.4); }

/* Explorer & role chips */
.role-chip { font-size:.55rem; padding:.28rem .6rem; border-radius:999px; background:rgba(255,255,255,0.06); border:1px solid rgba(255,255,255,0.15); letter-spacing:.5px; font-weight:600; display:inline-flex; align-items:center; gap:.4rem; }
.role-chip.owner { background:linear-gradient(135deg,#3d2f55,#262036); border-color:rgba(180,120,255,0.35); }
.role-chip.beneficiary { background:linear-gradient(135deg,#254a36,#1d3327); border-color:rgba(120,255,180,0.30); }
.role-chip.donor { background:linear-gradient(135deg,#4a3a25,#33291d); border-color:rgba(255,200,120,0.30); }
.explorer-bar { font-size:.55rem; display:flex; flex-wrap:wrap; gap:.65rem; align-items:center; background:rgba(255,255,255,0.04); padding:.45rem .65rem; border:1px solid rgba(255,255,255,0.12); border-radius:8px; }
.explorer-bar a { text-decoration:none; font-weight:600; }
.explorer-bar .label { opacity:.7; font-weight:600; letter-spacing:.5px; }
.tx-hash-chip { font-family:'JetBrains Mono','Roboto Mono',monospace; font-size:.55rem; background:rgba(255,255,255,0.07); border:1px solid rgba(255,255,255,0.18); padding:.25rem .45rem; border-radius:6px; display:inline-flex; align-items:center; gap:.35rem; cursor:pointer; }
.tx-hash-chip.copied { outline:1px solid var(--accent-alt); box-shadow:0 0 0 3px rgba(74,212,255,0.15); }
.tx-hash-chip .copy-icon { font-size:.6rem; opacity:.7; }

.alert { font-size:.7rem; line-height:1.3; padding:.55rem .7rem; border-radius: var(--radius-sm); background: rgba(255,77,79,0.08); border:1px solid rgba(255,77,79,0.25); color: var(--danger); }
.note { font-size:.7rem; line-height:1.3; padding:.55rem .7rem; border-radius: var(--radius-sm); background: rgba(255,204,77,0.08); border:1px solid rgba(255,204,77,0.25); color: var(--warn); }

form.donate-form { display:flex; flex-direction:column; gap:.9rem; }
form.donate-form.inline-layout { flex-direction:row; align-items:flex-start; gap:.65rem; flex-wrap:wrap; }
form.donate-form.inline-layout > .donate-input-wrap { flex:1 1 180px; }
form.donate-form.inline-layout > .donate-actions { display:flex; align-items:center; gap:.55rem; }
form.donate-form input[type=number] {
  background: rgba(255,255,255,0.07);
  border:1px solid rgba(255,255,255,0.18);
  border-radius: var(--radius-md);
  padding:.75rem .9rem;
  font-size:.95rem; color: var(--text-primary);
  font-family: var(--font-sans);
  transition: border-color var(--transition), background var(--transition), box-shadow var(--transition);
}

/* ===================== Responsive Breakpoints ===================== */
@media (max-width: 640px) {
  .app-shell { padding: 2.2rem 1rem 2.4rem; gap:1.4rem; }
  .beneficiaries-list { gap:.5rem; }
  .beneficiary-row { grid-template-columns: 40px 1fr; grid-template-rows:auto auto; gap:.5rem; padding:.45rem .55rem .5rem; }
  .beneficiary-icon { font-size:1.4rem; }
  .beneficiary-header-row { gap:.4rem; row-gap:.3rem; }
  .beneficiary-stats { grid-column:1 / -1; flex-direction:row; flex-wrap:wrap; gap:.55rem; font-size:.6rem; margin-top:.25rem; justify-content:flex-start; text-align:left; }
  .beneficiary-bar { display:none; }
  .beneficiary-desc { font-size:.6rem; }
  .hero-title { font-size: clamp(1.9rem, 7vw, 2.4rem); }
  .hero-subtitle { font-size:.85rem; margin:.3rem auto 1.1rem; }
  .btn { font-size:.85rem; padding:.75rem 1.1rem; }
  .btn.sm { font-size:.62rem; padding:.5rem .65rem; }
}

@media (max-width: 480px) {
  .beneficiary-row { gap:.45rem; padding:.42rem .5rem .48rem; }
  .beneficiary-label-text { font-size:.82rem; }
  .addr-chip, .explorer-chip { font-size:.5rem; padding:.22rem .4rem; }
  .beneficiary-domain { font-size:.5rem; padding:.22rem .45rem; letter-spacing:.4px; }
  .addr-chip .addr-label { display:none; }
  .hero-subtitle { font-size:.8rem; }
  .hero-title { font-size: clamp(1.7rem, 8vw, 2.2rem); }
  .app-shell { padding: 1.8rem .85rem 2.2rem; }
}
form.donate-form input[type=number]:focus { outline:none; border-color: var(--accent); box-shadow:0 0 0 3px rgba(109,93,252,0.35); background: rgba(255,255,255,0.11); }

.pending-box { display:flex; flex-direction:column; gap:.6rem; }

.muted { color: var(--text-secondary); font-size:.75rem; }

footer.app-footer { margin-top: 2rem; text-align:center; font-size:.65rem; opacity:.55; }

@keyframes fadeIn { from { opacity:0; transform: translateY(6px); } to { opacity:1; transform: translateY(0); } }

/* Scrollbar subtle (webkit) */
::-webkit-scrollbar { width:10px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: linear-gradient(var(--accent), var(--accent-alt)); border-radius: 20px; border: 3px solid #0c0d11; }

/* === Tabs & Explorer extra badges === */
.tabs-wrapper { display:flex; flex-direction:column; gap:.9rem; }
.tabs-nav { display:flex; gap:.5rem; flex-wrap:wrap; }
.tab-btn { background:rgba(255,255,255,0.06); border:1px solid rgba(255,255,255,0.12); padding:.45rem .9rem; border-radius:7px; font-size:.65rem; font-weight:600; letter-spacing:.5px; cursor:pointer; color:var(--text-secondary); }
.tab-btn.active { background:linear-gradient(135deg,#3a3750,#262537); color:#fff; border-color:rgba(180,160,255,0.4); }
.tab-btn:hover { border-color:rgba(255,255,255,0.25); color:#fff; }
.tabs-content { display:flex; flex-direction:column; gap:1.1rem; }
.badge-unverified { font-size:.5rem; letter-spacing:.5px; background:linear-gradient(135deg,#3d2b24,#2a1d18); color:#ffbd8a; padding:.3rem .55rem; border-radius:999px; border:1px solid rgba(255,180,120,0.25); font-weight:600; }
